unite("Q16", Q16_Part_1:Q16_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q17", Q17_Part_1:Q17_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q18", Q18_Part_1:Q18_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q19", Q19_Part_1:Q19_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q23", Q23_Part_1:Q23_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q26A", Q26_A_Part_1:Q26_A_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q26B", Q26_B_Part_1:Q26_B_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q27A", Q27_A_Part_1:Q27_A_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q27B", Q27_B_Part_1:Q27_B_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q28A", Q28_A_Part_1:Q28_A_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q28B", Q28_B_Part_1:Q28_B_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q29A", Q29_A_Part_1:Q29_A_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q29B", Q29_B_Part_1:Q29_B_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q31A", Q31_A_Part_1:Q31_A_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q31B", Q31_B_Part_1:Q31_B_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q33A", Q33_A_Part_1:Q33_A_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q33B", Q33_B_Part_1:Q33_B_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q34A", Q34_A_Part_1:Q34_A_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q34B", Q34_B_Part_1:Q34_B_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q35A", Q35_A_Part_1:Q35_A_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q35B", Q35_B_Part_1:Q35_B_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q36", Q36_Part_1:Q36_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q37", Q37_Part_1:Q37_OTHER,
sep = ",",
na.rm = TRUE) %>%
unite("Q39", Q39_Part_1:Q39_OTHER,
sep = ",",
na.rm = TRUE)
return(survey)
}
survey <- merge_cols(survey) # merge_cols function call
dim(survey) # dimension of data
data_scientists <- survey %>%
filter(Q5 == 'Data Scientist')
data_scientists %>%
select(Q1, Q2) %>% # prepare data
mutate(Q2 = ifelse(Q2 == "Prefer to self-describe" | Q2 == "Prefer not to say" | Q2 == "Nonbinary", "Other", Q2)) %>%
ggplot(aes(Q1, fill = Q2)) + # create plot
geom_bar(stat = "count", position = "dodge2") +
geom_text(stat="count", aes(label =..count..), vjust = -0.01) +
scale_fill_viridis_d(direction = -1) +
geom_hline(yintercept = 0, size = 1, colour = "#333333") +
labs(title = "Data Scientist Age Group",
subtitle = "# of Data Scientists took kaggle survey, 2020",
fill = "",
x = "Age") +
bbplot::bbc_style() +
theme(legend.position = "top",
legend.justification = "left") +
guides(fill = guide_legend(reverse = TRUE))
data_scientists %>%
select(Q4) %>% # prepare data
filter(Q4 != 'NA') %>%
mutate(Q4 = ifelse(Q4 == "Some college/university study without earning a bachelor’s degree" | Q4 == "No formal education past high school", "None", Q4)) %>%
mutate(Q4 = str_remove_all(Q4, "degree")) %>%
add_count(Q4, name = "count") %>%
unique() %>%
mutate(total = sum(count),
percent = round(count/total*100, digits = 0)) %>%
filter(Q4 != "I prefer not to answer") %>%
ggplot(aes("", percent, fill= Q4)) + #Make plot
geom_bar(stat = "identity") +
coord_polar(theta = "y", start = 0) +
geom_hline(yintercept = 0, size = 1, colour="#333333") +
geom_text(aes(label =paste0(percent, "%"),
family="Helvetica",
size = 3),
position = position_stack(vjust = 0.5)) +
labs(title = "Data Scientists educational qualification",
subtitle = "% of degree holders, 2020 kaggle Survey",
x = "",
y = "",
fill = "") +
bbplot::bbc_style() +
guides(fill = guide_legend(reverse = TRUE), size = FALSE)
data_scientists %>%
select(Q4) %>% # prepare data
filter(Q4 != 'NA') %>%
mutate(Q4 = ifelse(Q4 == "Some college/university study without earning a bachelor’s degree" | Q4 == "No formal education past high school", "None", Q4)) %>%
mutate(Q4 = str_remove_all(Q4, "degree")) %>%
add_count(Q4, name = "count") %>%
unique() %>%
mutate(total = sum(count),
percent = round(count/total*100, digits = 0)) %>%
filter(Q4 != "I prefer not to answer" | Q4 != "None") %>%
ggplot(aes("", percent, fill= Q4)) + #Make plot
geom_bar(stat = "identity") +
coord_polar(theta = "y", start = 0) +
geom_hline(yintercept = 0, size = 1, colour="#333333") +
geom_text(aes(label =paste0(percent, "%"),
family="Helvetica",
size = 3),
position = position_stack(vjust = 0.5)) +
labs(title = "Data Scientists educational qualification",
subtitle = "% of degree holders, 2020 kaggle Survey",
x = "",
y = "",
fill = "") +
bbplot::bbc_style() +
guides(fill = guide_legend(reverse = TRUE), size = FALSE)
data_scientists %>%
select(Q4) %>% # prepare data
filter(Q4 != 'NA') %>%
mutate(Q4 = ifelse(Q4 == "Some college/university study without earning a bachelor’s degree" | Q4 == "No formal education past high school", "None", Q4)) %>%
mutate(Q4 = str_remove_all(Q4, "degree")) %>%
add_count(Q4, name = "count") %>%
unique() %>%
mutate(total = sum(count),
percent = round(count/total*100, digits = 0)) %>%
filter(Q4 != "I prefer not to answer" & Q4 != "None") %>%
ggplot(aes("", percent, fill= Q4)) + #Make plot
geom_bar(stat = "identity") +
coord_polar(theta = "y", start = 0) +
geom_hline(yintercept = 0, size = 1, colour="#333333") +
geom_text(aes(label =paste0(percent, "%"),
family="Helvetica",
size = 3),
position = position_stack(vjust = 0.5)) +
labs(title = "Data Scientists educational qualification",
subtitle = "% of degree holders, 2020 kaggle Survey",
x = "",
y = "",
fill = "") +
bbplot::bbc_style() +
guides(fill = guide_legend(reverse = TRUE), size = FALSE)
data_scientists %>%
select(Q4) %>% # prepare data
filter(Q4 != 'NA') %>%
mutate(Q4 = ifelse(Q4 == "Some college/university study without earning a bachelor’s degree" | Q4 == "No formal education past high school", "None", Q4)) %>%
mutate(Q4 = str_remove_all(Q4, "degree")) %>%
add_count(Q4, name = "count") %>%
unique() %>%
mutate(total = sum(count),
percent = round(count/total*100, digits = 0)) %>%
filter(Q4 != "I prefer not to answer" & Q4 != "None") %>%
ggplot(aes("", percent, fill= Q4)) + #Make plot
geom_bar(stat = "identity") +
coord_polar(theta = "y", start = 0) +
geom_hline(yintercept = 0, size = 1, colour="#333333") +
geom_text(aes(label =paste0(percent, "%"),
family="Helvetica",
size = 1),
position = position_stack(vjust = 0.5)) +
labs(title = "Data Scientists educational qualification",
subtitle = "% of degree holders, 2020 kaggle Survey",
x = "",
y = "",
fill = "") +
bbplot::bbc_style() +
guides(fill = guide_legend(reverse = TRUE), size = FALSE)
data_scientists %>%
select(Q4) %>% # prepare data
filter(Q4 != 'NA') %>%
mutate(Q4 = ifelse(Q4 == "Some college/university study without earning a bachelor’s degree" | Q4 == "No formal education past high school", "None", Q4)) %>%
mutate(Q4 = str_remove_all(Q4, "degree")) %>%
add_count(Q4, name = "count") %>%
unique() %>%
mutate(total = sum(count),
percent = round(count/total*100, digits = 0)) %>%
filter(Q4 != "I prefer not to answer" & Q4 != "None") %>%
ggplot(aes("", percent, fill= Q4)) + #Make plot
geom_bar(stat = "identity") +
coord_polar(theta = "y", start = 0) +
geom_hline(yintercept = 0, size = 1, colour="#333333") +
geom_text(aes(label =paste0(percent, "%"),
family="Helvetica",
size = 5),
position = position_stack(vjust = 0.5)) +
labs(title = "Data Scientists educational qualification",
subtitle = "% of degree holders, 2020 kaggle Survey",
x = "",
y = "",
fill = "") +
bbplot::bbc_style() +
guides(fill = guide_legend(reverse = TRUE), size = FALSE)
data_scientists %>%
select(Q4) %>% # prepare data
filter(Q4 != 'NA') %>%
mutate(Q4 = ifelse(Q4 == "Some college/university study without earning a bachelor’s degree" | Q4 == "No formal education past high school", "None", Q4)) %>%
mutate(Q4 = str_remove_all(Q4, "degree")) %>%
add_count(Q4, name = "count") %>%
unique() %>%
mutate(total = sum(count),
percent = round(count/total*100, digits = 0)) %>%
filter(Q4 != "I prefer not to answer" & Q4 != "None") %>%
ggplot(aes("", percent, fill= Q4)) + #Make plot
geom_bar(stat = "identity") +
coord_polar(theta = "y", start = 0) +
geom_text(aes(label =paste0(percent, "%"),
family="Helvetica",
size = 5),
position = position_stack(vjust = 0.5)) +
labs(title = "Data Scientists educational qualification",
subtitle = "% of degree holders, 2020 kaggle Survey",
x = "",
y = "",
fill = "") +
bbplot::bbc_style() +
guides(fill = guide_legend(reverse = TRUE), size = FALSE)
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
group_by(Q6) %>%
count() %>%
ggplot(aes(Q6, n)) +
geom_col(position="identity",
fill="#1380A1") +
geom_hline(yintercept = 0, size = 1, colour="#333333")  +
geom_hline(yintercept = 300, size = 1,
colour = "red", linetype = "dashed") +
geom_text(aes(label = n), vjust = 0.01, family="Helvetica", size = 6) +
geom_label(aes(x = "< 1 years", y = 600, label = "Atleast above 1 year of coding experience must be", family="Helvetica")) +
labs(title = "Coding Experience") +
bbplot::bbc_style()
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
add_count(Q6, name = "count") %>%
unique() %>%
mutate(total = sum(count), percent = count/total*100)
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
add_count(Q6, name = "count") %>%
unique() %>%
mutate(total = sum(count), percent = count/total*100)
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
group_by(Q6) %>%
count() %>%
ggplot(aes(Q6, n)) +
geom_col(position="identity",
fill="#1380A1") +
geom_hline(yintercept = 0, size = 1, colour="#333333")  +
geom_hline(yintercept = 300, size = 1,
colour = "red", linetype = "dashed") +
geom_text(aes(label = n), vjust = 0.01, family="Helvetica", size = 6) +
geom_label(aes(x = "< 1 years", y = 600, label = "Atleast above 1 year of coding experience must be", family="Helvetica")) +
labs(title = "Coding Experience") +
bbplot::bbc_style()
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
group_by(Q6) %>%
count() %>%
ggplot(aes(Q6, n)) +
geom_col(position="identity",
fill="#1380A1") +
geom_hline(yintercept = 0, size = 1, colour="#333333")  +
geom_hline(yintercept = 300, size = 1,
colour = "red", linetype = "dashed") +
geom_text(aes(label = n), vjust = 0.01, family="Helvetica", size = 6) +
geom_label(aes(x = "< 1 years", y = 600, label = "Atleast above 1 year of coding experience must be", family="Helvetica")) +
labs(title = "Coding Experience") +
bbplot::bbc_style()
source('~/Workspace/dataexplained/_scripts/knitpages.R', echo=TRUE)
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
group_by(Q6) %>%
count() %>%
ggplot(aes(Q6, n)) +
geom_col(position="identity",
fill="#1380A1") +
geom_hline(yintercept = 0, size = 1, colour="#333333")  +
geom_hline(yintercept = 300, size = 1,
colour = "red", linetype = "dashed") +
geom_text(aes(label = n), vjust = 0.01, family="Helvetica", size = 6) +
geom_label(aes(x = "< 1 years", y = 600, label = "Atleast above 1 year of coding experience must be", family="Helvetica")) +
labs(title = "Coding Experience") +
bbplot::bbc_style()
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
group_by(Q6) %>%
count() %>%
ggplot(aes(Q6, n)) +
geom_col(position="identity",
fill="#1380A1") +
geom_hline(yintercept = 0, size = 1, colour="#333333")  +
geom_hline(yintercept = 300, size = 1,
colour = "red", linetype = "dashed") +
geom_text(aes(label = n), vjust = 0.01, family="Helvetica", size = 6) +
geom_label(aes(x = "< 1 years", y = 600, label = "Atleast above 1 year of coding experience must be", family="Helvetica")) +
labs(title = "Coding Experience") +
bbplot::bbc_style()
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
group_by(Q6) %>%
count() %>%
ggplot(aes(Q6, n)) +
geom_col(position="identity",
fill="#1380A1") +
geom_hline(yintercept = 0, size = 1, colour="#333333")  +
geom_hline(yintercept = 300, size = 1,
colour = "red", linetype = "dashed") +
geom_text(aes(label = n), vjust = 0.01, family="Helvetica", size = 6) +
geom_label(aes(x = "< 1 years", y = 600, label = "Atleast above 1 year of coding experience must be", family="Helvetica")) +
labs(title = "Coding Experience") +
bbplot::bbc_style()
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
add_count(Q6, name = "count") %>%
unique() %>%
mutate(total = sum(count), percent = count/total*100)
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
group_by(Q6) %>%
count() %>%
ggplot(aes(Q6, n)) +
geom_col(position="identity",
fill="#1380A1") +
geom_hline(yintercept = 0, size = 1, colour="#333333")  +
geom_hline(yintercept = 300, size = 1,
colour = "red", linetype = "dashed") +
geom_text(aes(label = n), vjust = 0.01, family="Helvetica", size = 6) +
geom_label(aes(x = "< 1 years", y = 600, label = "Atleast above 1 year of coding experience must be", family="Helvetica")) +
labs(title = "Coding Experience") +
bbplot::bbc_style()
data_scientists %>%
select(Q6) %>% # prepare data
filter(Q6 != 'NA') %>%
mutate_if(is.character, factor) %>%
mutate(Q6 = fct_relevel(Q6, "I have never written code", "< 1 years", "1-2 years", "3-5 years", "5-10 years", "10-20 years", "20+ years"),
Q6 = fct_collapse(Q6, "Never coded" = "I have never written code", "10+ years" = c("10-20 years", "20+ years"))
) %>%
group_by(Q6) %>%
count() %>%
ggplot(aes(Q6, n)) +
geom_col(position="identity",
fill="#1380A1") +
geom_hline(yintercept = 0, size = 1, colour="#333333")  +
geom_hline(yintercept = 300, size = 1,
colour = "red", linetype = "dashed") +
geom_text(aes(label = n), vjust = 0.01, family="Helvetica", size = 6) +
geom_label(aes(x = "< 1 years", y = 600, label = "Atleast above 1 year of coding experience must be", family="Helvetica")) +
labs(title = "Coding Experience") +
bbplot::bbc_style()
count(data_scientists)
data_scientists %>%
select(Q26A) %>%
filter(Q26A != "") %>%
summarise(count = n(), total = 2676, percent = count/total*100)
data_scientists %>%
select(Q26A) %>%
filter(Q26A != "") %>%
mutate(Q26A = strsplit(Q26A, ",")) %>%
unnest(Q26A) %>%
add_count(Q26A, name = "count") %>%
unique() %>%
arrange(desc(count)) %>%
mutate(total = sum(count), percent = round(count/total*100,0)) %>%
filter(percent > 2) %>%
ggplot(aes("", percent, fill = Q26A)) +
geom_bar(stat = "identity") +
geom_text(aes(label = paste0(percent, "%")),
position = position_stack(vjust = 0.5)) +
coord_polar(theta = "y") +
labs(fill = "Cloud Platform") +
theme(axis.text = element_text(size= 14, family = "Helvetica", colour = "#333333"),
text = element_text(size= 14, family = "Helvetica", colour = "#333333"))
# prepare data
database <- data_scientists %>%
select(Q29A) %>%
filter(Q29A != "") %>%
mutate(Q29A = strsplit(Q29A, ",")) %>%
unnest(Q29A) %>%
add_count(Q29A, name = "count") %>%
unique() %>%
arrange(desc(count)) %>%
mutate(total = sum(count), percent = round(count/total*100,0)) %>%
mutate(Q29A = fct_reorder(Q29A, percent)) %>%
filter(percent > 2)
ggplot(database, aes(Q29A, percent)) +
geom_col(fill = ifelse(database$Q29A == "None","#1380A1", "#FAAB18")) +
geom_text(aes(y = 1,label = paste0(percent, "%")),
hjust = 0, vjust = 0.5,
colour = ifelse(database$Q29A == "None", "white", "black")) +
coord_flip() +
labs(title = "Database") +
geom_hline(yintercept = 0, size = 1, colour = "#333333") +
bbplot::bbc_style()
data_scientists %>%
select(Q31A) %>%
filter(Q31A != "") %>%
mutate(Q31A = strsplit(Q31A, ",")) %>%
unnest(Q31A) %>%
add_count(Q31A, name = "count") %>%
unique() %>%
arrange(desc(count)) %>%
mutate(total = sum(count), percent = round(count/total*100,0)) %>%
mutate(Q31A = fct_reorder(Q31A, percent)) %>%
filter(percent > 2) %>%
ggplot(aes(Q31A, percent)) +
geom_col(fill = "#990000") +
geom_text(aes(y = 2,label = paste0(percent, "%")), hjust = 0, vjust = 0.5, colour = "white") +
geom_hline(yintercept = 0, size = 1, colour = "#333333") +
bbplot::bbc_style() +
theme(axis.text.x = element_text(angle = 10, size = 12))
# prepare data
deploy <- data_scientists %>%
select(Q36) %>%
filter(Q36 != "") %>%
mutate(Q36 = strsplit(Q36, ",")) %>%
unnest(Q36) %>%
add_count(Q36, name = "count") %>%
unique() %>%
arrange(desc(count)) %>%
mutate(Q36 = ifelse(Q36 == "I do not share my work publicly",
"No sharing", Q36)) %>%
mutate_if(is.character, factor) %>%
mutate(total = sum(count), percent = round(count/total * 100, 0)) %>%
mutate(Q36 = fct_reorder(Q36, percent))
# make a plot
ggplot(deploy, aes(Q36, percent)) +
geom_col(fill = ifelse(deploy$Q36 == "No sharing",
"#1380A1","#588300")) +
geom_text(aes(label = paste0(percent, "%")),
hjust = 0.3, vjust = -0.1, family = "Helvetica", size = 5) +
geom_hline(yintercept = 0, size = 1, colour = "#333333") +
bbplot::bbc_style() +
theme(axis.text.x = element_text(angle = 18, size = 12))
source('~/Workspace/dataexplained/_scripts/knitpages.R', echo=TRUE)
install.packages("shiny")
